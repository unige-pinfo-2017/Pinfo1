{"swagger":"2.0","info":{"version":"1.0.0","title":"IDEAS API"},"host":"localhost:8080","basePath":"/IDEAS","tags":[{"name":"User"},{"name":"Table"},{"name":"Edit"},{"name":"Chart"},{"name":"Login"},{"name":"Overview"}],"schemes":["http"],"paths":{"/chart/{resource}/last-day":{"get":{"tags":["Chart"],"summary":"Get chart data of the last day","description":"","operationId":"getChartDataDay","produces":["application/json"],"parameters":[{"name":"resource","in":"path","description":"resource","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/JsonValue"}}}}}},"/chart/{resource}/last-month":{"get":{"tags":["Chart"],"summary":"Get chart data of the last month","description":"","operationId":"getChartDataMonth","produces":["application/json"],"parameters":[{"name":"resource","in":"path","description":"resource","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/JsonValue"}}}}}},"/chart/{resource}/last-week":{"get":{"tags":["Chart"],"summary":"Get chart data of the last week","description":"","operationId":"getChartDataWeek","produces":["application/json"],"parameters":[{"name":"resource","in":"path","description":"resource","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/JsonValue"}}}}}},"/chart/{resource}/year/{yearNum}":{"get":{"tags":["Chart"],"summary":"Get chart data for a year","description":"","operationId":"getChartDataYear","produces":["application/json"],"parameters":[{"name":"resource","in":"path","description":"resource","required":true,"type":"string"},{"name":"yearNum","in":"path","description":"a year","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/JsonValue"}}}}}},"/edit/{deviceId}/change-{resource}":{"post":{"tags":["Edit"],"summary":"change the value of the device'resource","description":"","operationId":"changeDevice","consumes":["text/plain"],"parameters":[{"name":"deviceId","in":"path","description":"the device's id","required":true,"type":"string"},{"name":"resource","in":"path","description":"resource to change","required":true,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Any"},"500":{"description":"Resource does not exist for this device."}}}},"/edit/{deviceId}/menu":{"get":{"tags":["Edit"],"summary":"Get the edit menu","description":"","operationId":"getEditMenu","produces":["application/json"],"parameters":[{"name":"deviceId","in":"path","description":"the device's id","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/JsonValue"}}}}}},"/login":{"get":{"tags":["Login"],"summary":"Authentificate an user","description":"","operationId":"authentication","produces":["text/plain"],"parameters":[{"name":"username","in":"query","description":"The username for login","required":true,"type":"string"},{"name":"pw","in":"query","description":"The password for login","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"string"}}}}},"/login/get-role/{userId}":{"get":{"tags":["Login"],"summary":"Role of a user","description":"","operationId":"getRole","produces":["text/plain"],"parameters":[{"name":"userId","in":"path","description":"the user's id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"string"}}}}},"/login/get-subordinates/{userId}":{"get":{"tags":["Login"],"summary":"List of subordinates ID","description":"","operationId":"getSubordinates","produces":["application/json"],"parameters":[{"name":"userId","in":"path","description":"Manager/SysAdmin ID","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/User"}}}}}},"/overview/hidden-data/{userId}":{"get":{"tags":["Overview"],"summary":"Get hidden data","description":"","operationId":"getHiddenData","produces":["application/json"],"parameters":[{"name":"userId","in":"path","description":"User Id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/LiveData"}}}}}},"/overview/live-data/{userId}":{"get":{"tags":["Overview"],"summary":"Get live data","description":"","operationId":"getLiveData","produces":["application/json"],"parameters":[{"name":"userId","in":"path","description":"User Id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/LiveData"}}}}}},"/overview/preferences/{userId}/add":{"post":{"tags":["Overview"],"summary":"Add prefereces for a user","description":"","operationId":"addPreference","consumes":["text/plain"],"parameters":[{"name":"userId","in":"path","description":"User's id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"body","description":"measure name","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"{measureName} added to preferences."},"500":{"description":"Addin {measureName} to preferences failed."}}}},"/overview/preferences/{userId}/remove":{"post":{"tags":["Overview"],"summary":"Remove prefereces for a user","description":"","operationId":"removePreference","consumes":["text/plain"],"parameters":[{"name":"userId","in":"path","description":"User's id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"body","description":"measure name","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"{measureName} removed from preferences."},"500":{"description":"Removing {measureName} from preferences failed."}}}},"/table/{userId}/device/{type}":{"get":{"tags":["Table"],"summary":"Get table for device type","description":"","operationId":"getTableForDeviceType","produces":["application/json"],"parameters":[{"name":"userId","in":"path","description":"User's id","required":true,"type":"integer","format":"int64"},{"name":"type","in":"path","description":"Device Type","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/TypeDevice"}}}}}},"/table/{userId}/sensor/{type}":{"get":{"tags":["Table"],"summary":"Get table for sensor type","description":"","operationId":"getTableForSensorType","produces":["application/json"],"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"type":"integer","format":"int64"},{"name":"type","in":"path","description":"Sensor Type","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/JsonValue"}}}}}},"/table/{userId}/user/all":{"get":{"tags":["Table"],"summary":"Get table of users","description":"Available for Managers and SysAdmin","operationId":"getTableOfUsers","produces":["application/json"],"parameters":[{"name":"userId","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/JsonValue"}}}}}},"/user":{"get":{"tags":["User"],"operationId":"test","parameters":[],"responses":{"200":{"description":"successful operation","schema":{"type":"string"},"headers":{}}}}},"/user/add":{"put":{"tags":["User"],"summary":"Add new user to the data base","description":"","operationId":"add","produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/User"}}],"responses":{"201":{"description":"User details"},"404":{"description":"not found"}}}},"/user/all":{"get":{"tags":["User"],"summary":"Get all existing users","description":"","operationId":"getAll","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"Users details"}}}},"/user/byId/{id}":{"get":{"tags":["User"],"summary":"Get a user by his id","description":"","operationId":"getUserById","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"he user's id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"User details"},"404":{"description":"not found"}}}},"/user/byUsername/{username}":{"get":{"tags":["User"],"summary":"Get a user by user name","description":"","operationId":"getByUsername2","produces":["application/json"],"parameters":[{"name":"username","in":"path","description":"The user name","required":true,"type":"string"}],"responses":{"200":{"description":"User details"}}}},"/user/{id}":{"get":{"tags":["User"],"summary":"Create test user class","description":"","operationId":"getUserByID","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"The user'id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/User"}}}}}}},"definitions":{"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string","minLength":3,"maxLength":40},"password":{"type":"string","minLength":3,"maxLength":40},"devices":{"type":"array","uniqueItems":true},"preferences":{"type":"array","uniqueItems":true,"items":{"$ref":"#/definitions/LiveData"}}}},"LiveData":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"computeType":{"type":"string","minLength":3,"maxLength":40},"sensor":{"$ref":"#/definitions/Sensor"},"users":{"type":"array","uniqueItems":true,"items":{"$ref":"#/definitions/User"}}}},"Device":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"deviceId":{"type":"string","minLength":3,"maxLength":40},"owner":{"$ref":"#/definitions/User"}}},"JsonValue":{"type":"object","properties":{"valueType":{"type":"string","enum":["ARRAY","OBJECT","STRING","NUMBER","TRUE","FALSE","NULL"]}}},"TypeDevice":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string","minLength":3,"maxLength":40},"devices":{"type":"array","uniqueItems":true,"items":{"$ref":"#/definitions/Device"}},"sensors":{"type":"array","uniqueItems":true}}},"Sensor":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string","minLength":3,"maxLength":40},"unit":{"type":"string","minLength":1,"maxLength":10},"measureName":{"type":"string","minLength":3,"maxLength":40},"typeDevices":{"type":"array","uniqueItems":true,"items":{"$ref":"#/definitions/TypeDevice"}}}}}}